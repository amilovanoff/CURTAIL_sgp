"0","#Results for 2C"
"0","res_2c <- do.call(read_def_outputs_f,list(function_tbc=""optimization_pathway_f"",sub_function_tbc = ""transport_activity_f"",scen_tbc=""optimization_modal_share_2c""))"
"0","plot_dt2 <- subset(res_2c[[""transport_pkt""]],Year%in%c(2019:2050))"
"0","plot_dt2$Type <- sapply(1:nrow(plot_dt2),function(x)ifelse(plot_dt2[x,""Mode""]%in%c(""MRT"",""LRT"",""Public bus"",""School bus""),""Public transit"",""Private vehicle""))"
"0","plot_dt2 <- aggregate(formula = Value~Year+Scenario+Type,data = plot_dt2,FUN=sum)"
"0","plot_dt2$Share <- sapply(1:nrow(plot_dt2),function(x)plot_dt2[x,""Value""]/sum(subset(plot_dt2,Year==plot_dt2[x,""Year""] & Scenario==plot_dt2[x,""Scenario""])$Value))"
"0","plot_dt2$Target <- ""2C"""
"0","#Results for 1.5C"
"0","res_15c <- do.call(read_def_outputs_f,list(function_tbc=""optimization_pathway_f"",sub_function_tbc = ""transport_activity_f"",scen_tbc=""optimization_modal_share_15c""))"
"0","plot_dt3 <- subset(res_15c[[""transport_pkt""]],Year%in%c(2019:2050))"
"0","plot_dt3$Type <- sapply(1:nrow(plot_dt3),function(x)ifelse(plot_dt3[x,""Mode""]%in%c(""MRT"",""LRT"",""Public bus"",""School bus""),""Public transit"",""Private vehicle""))"
"0","plot_dt3 <- aggregate(formula = Value~Year+Scenario+Type,data = plot_dt3,FUN=sum)"
"0","plot_dt3$Share <- sapply(1:nrow(plot_dt3),function(x)plot_dt3[x,""Value""]/sum(subset(plot_dt3,Year==plot_dt3[x,""Year""] & Scenario==plot_dt3[x,""Scenario""])$Value))"
"0","plot_dt3$Target <- ""1.5C"""
"0",""
"0","plot_dt <- rbind(plot_dt2,plot_dt3)"
"0","ggplot()+"
"0","  geom_line(data=subset(plot_dt,Type==""Public transit""),"
"0","            aes(x=Year,y=Share*100,linetype=Scenario,colour=Target),"
"0","            size=1.2)+"
"0","  scale_y_continuous(limits=c(0,100))+"
"0","  labs(x=NULL, y=""Public transit \nshare (%)"")+"
"0","  scale_colour_milovanoff(palette_type = ""cat"",number_color = 2,guide = guide_legend(title=""Target"",order=1,nrow=1))+"
"0","  scale_linetype_manual(values=c(2,3),labels=c(""Constant"",""EV""),guide=guide_legend(title=""Technology"",order=2,nrow=1))+"
"0","  theme_milovanoff(legend.position = c(0.5,0.25),"
"0","                   legend.direction = ""vertical"","
"0","                   legend.margin = margin(t=-0.2,r=0.1,b=0.1,l=0.1, ""cm""),"
"0","                   legend.box.just = ""right"","
"0","                   legend.key.width = unit(0.5, ""cm""),"
"0","                   axis.title.y = element_text(hjust=0.5),"
"0","                   legend.title = element_text(hjust=1))"

"0","res <- read_def_outputs_f(function_tbc=""transport_veh_pop_f"",scen_tbc=""scen1"")"
"0","scen_tbc <- c(""PC_EV"",""PT_EV"")"
"0","mode_tbc <- c(""Taxi"",""Public bus"",""Private car"", ""Private hire car"")"
"0","years_tbc <- c(2020:2050)"
"0","plot_dt <- subset(res[[""transport_veh_pop_dt""]],Scenario%in%scen_tbc & Mode%in%mode_tbc & Year%in%years_tbc)"
"0",""
"0","#Rename vehicle technologies"
"0","plot_dt$Mode <- as.character(plot_dt$Mode)"
"0","plot_dt$Mode <- rename_values(plot_dt$Mode,list(""Private car""=""Private hire car""))"
"0","plot_dt$Technology <- rename_values(plot_dt$Technology,list(""ICEV/B-G""=c(""ICEV-G"",""ICEB-G""),""ICEV/B-D""=c(""ICEV-D"",""ICEB-D""),""HEV/B-G""=c(""HEV-G"",""HEB-G""),""HEV/B-D""=c(""HEV-D"",""HEB-D""),""CNGV/B""=c(""CNG"",""CNGB""),""EV/B""=c(""EB"",""BEV"")))"
"0","plot_dt$Scenario <- rename_values(plot_dt$Scenario,list(""Private Car ubiquity""=""PC_EV"",""Public Transit""=""PT_EV""))"
"0","#Color by technology"
"0","color_list <- c(""ICEV/B-G""=""#1f78b4"",""ICEV/B-D""=""#d95f02"",""HEV/B-G""=""#a6cee3"",""HEV/B-D""=""#fdbf6f"",""CNGV/B""=""#bebada"",""PHEV""=""#b2df8a"",""EV/B""=""#33a02c"")"
"0","techno_order = c(""ICEV/B-G"",""ICEV/B-D"",""HEV/B-G"",""HEV/B-D"",""PHEV"",""EV/B"",""CNGV/B"")"
"0","plot_dt$Technology <- factor(plot_dt$Technology,levels = techno_order)"
"0","ggplot(data=plot_dt)+"
"0","      geom_col(aes(x=Year,y=Value/10^3,fill=Technology))+"
"0","      facet_grid(Mode~Scenario,scale=""free"")+"
"0","      scale_fill_manual(values=color_list,name=NULL,guide = guide_legend(nrow=1))+"
"0","      scale_y_continuous(expand = c(0.01,0))+"
"0","      scale_x_continuous(expand = c(0.01,0))+"
"0","      labs(x=NULL,y=""Vehicle population (thousand vehicles)"")+"
"0","      theme_milovanoff(axis.text.x = element_text(face=,size=, angle=40,vjust=1,hjust=1),"
"0","                       panel.spacing.x = unit(0.5,""cm""))"

"0","modelframework::load_input_data_f()"
"0","res <- do.call(transport_lca_ghg_f,list())"
"0","dt <- subset(res[[""transport_lca_ghg_process""]],Year%in%2005:2019)"
"0","car_order <- c(""Gasoline"",""Diesel"",""Electricity"",""CNG"",""Battery production"",""Vehicle production, without battery"")"
"0","moto_order <- c(""Gasoline"",""Diesel"",""Electricity"",""CNG"",""Battery production"",""Motorcycle production, without battery"")"
"0","bus_order <- c(""Gasoline"",""Diesel"",""Electricity"",""CNG"",""Battery production"",""Bus production, without battery"")"
"0","rt_order <- c(""Gasoline"",""Diesel"",""Electricity"",""CNG"",""Battery production"")"
"0","for (mode in unique(dt$Mode)){"
"0","  #Techno order"
"0","  order_name <- switch(mode,"
"0","                              `Private car`=""car_order"","
"0","                              `Private hire car`=""car_order"","
"0","                              `Taxi`=""car_order"","
"0","                              Motorcycle = ""moto_order"","
"0","                              `Public bus` = ""bus_order"","
"0","                              `Private bus` = ""bus_order"","
"0","                              `School bus` = ""bus_order"","
"0","                              `MRT`= ""rt_order"","
"0","                              `LRT` = ""rt_order"")"
"0","  order <- get(order_name)"
"0","  plot_dt <- subset(dt,Mode==mode)"
"0","   plot_dt$Process <- factor(plot_dt$Process, levels=order)"
"0","  ggplot()+"
"0","  geom_col(data=plot_dt,"
"0","           aes(x=Year,y=Value/10^9,fill=Process))+"
"0","  facet_wrap(~Mode)+"
"0","  scale_fill_milovanoff(palette_type=""div"","
"0","                        number_color=6,"
"0","                        guide=guide_legend(title=NULL))+"
"0","  scale_y_continuous(expand = c(0.01,0))+"
"0","  scale_x_continuous(expand = c(0.01,0),breaks = seq(2005,2030,5))+"
"0","  labs(x=NULL,y=expression(""Mt CO""[2]))+"
"0","  theme_milovanoff(legend_position = ""bottom"")"
"0",""
"0","ggsave(paste0(""outputs/plots/si/hist_ghg_"",mode,"".png""),width=6.5,height=2.5,units=c(""in""),dpi=600)"
"0","}"
"0",""
"0",""
"0","tot_dt <- aggregate(formula=Value~Year,data=plot_dt,FUN=sum)"
